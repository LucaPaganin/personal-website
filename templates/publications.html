{% extends "base.html" %}
{# Titolo pagina: Nome + Stringa UI tradotta da Babel #}
{% block title %}{{ g.cv_data.personal_info.name }} - {{ _('Pubblicazioni') }}{% endblock %}

{% block content %}
<div class="bg-white p-8 rounded-lg shadow-md">
    {# Titolo sezione, tradotto da Babel #}
    <h1 class="text-3xl font-bold mb-6 text-gray-800">{{ _('Pubblicazioni') }}</h1>

    <div class="space-y-6">
        {# Itera sulla lista 'publications' da JSON #}
        {% for pub in g.cv_data.publications %}
            <article class="border-b border-gray-200 pb-4">
                {# Titolo pubblicazione (non multilingua nel JSON attuale) #}
                <h2 class="text-xl font-semibold text-gray-800">{{ pub.title }}</h2>
                 {# Autori e Anno (non multilingua nel JSON attuale) #}
                <p class="text-sm text-gray-500 mt-1">{{ _('Autori:') }} {{ pub.authors }} ({{ pub.year }})</p> {# Stringa UI 'Autori:' tradotta da Babel #}
                {# Stato pubblicazione, se presente, localizzato da JSON #}
                {% if pub.status %}
                     <p class="text-sm text-orange-600 italic mt-1">
                         {{ get_localized(pub.status) }}
                     </p>
                {% endif %}
                {# Abstract, se presente, localizzato da JSON #}
                {% if pub.abstract %}
                    <details class="mt-2 text-sm">
                         {# Stringa UI 'Mostra/Nascondi Abstract', tradotta da Babel #}
                         <summary class="cursor-pointer text-blue-600 hover:underline">{{ _('Mostra/Nascondi Abstract') }}</summary>
                         <p class="mt-1 text-gray-700 bg-gray-50 p-3 rounded">
                             {{ get_localized(pub.abstract) }}
                         </p>
                    </details>
                {% endif %}
                {# Link, se presente #}
                {% if pub.link %}
                     {# Stringa UI 'Link...', tradotta da Babel #}
                    <a href="{{ pub.link }}" target="_blank" rel="noopener noreferrer" class="text-sm text-blue-600 hover:underline mt-1 inline-block">{{ _('Link alla pubblicazione/progetto') }}</a>
                {% endif %}
            </article>
        {% else %}
             {# Stringa UI statica, tradotta da Babel #}
             <p class="text-gray-600">{{ _('Nessuna pubblicazione elencata.') }}</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
