{% extends "base.html" %}
{# Titolo pagina: Nome + Stringa UI tradotta da Babel #}
{% block title %}{{ g.cv_data.personal_info.name }} - {{ _('Formazione') }}{% endblock %}

{% block content %}
<div class="bg-white p-8 rounded-lg shadow-md">
    {# Titolo sezione, tradotto da Babel #}
    <h1 class="text-3xl font-bold mb-6 text-gray-800">{{ _('Formazione') }}</h1>

    <div class="space-y-8">
        {# Itera sulla lista 'education' caricata da JSON #}
        {% for edu in g.cv_data.education %}
            <div class="border-l-4 border-blue-500 pl-4 py-2">
                {# Titolo del titolo di studio, localizzato da JSON #}
                <h2 class="text-xl font-semibold text-gray-800">
                    {{ get_localized(edu.degree) }}
                </h2>
                {# Istituzione (non multilingua nel JSON attuale) #}
                <p class="text-md font-medium text-gray-700">{{ edu.institution }}</p>
                {# Periodo, localizzato da JSON #}
                <p class="text-sm text-gray-500">
                    {{ get_localized(edu.period) }}
                </p>
                {# Voto finale, se presente, localizzato da JSON #}
                {% if edu.grade %}
                    <p class="text-sm text-gray-600 mt-1">
                        {# Stringa UI 'Voto Finale:', tradotta da Babel #}
                        <strong>{{ _('Voto Finale:') }}</strong> {{ get_localized(edu.grade) }}
                    </p>
                {% endif %}
                 {# Titolo tesi, se presente, localizzato da JSON #}
                 {% if edu.thesis_title %}
                    <p class="text-sm text-gray-600 mt-1">
                        {# Stringa UI 'Tesi:', tradotta da Babel #}
                        <strong>{{ _('Tesi:') }}</strong> {{ get_localized(edu.thesis_title) }}
                        {# Link alla tesi, se presente #}
                        {% if edu.thesis_link %}
                            {# Stringa UI 'link', tradotta da Babel #}
                            (<a href="{{ edu.thesis_link }}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">{{ _('link') }}</a>)
                        {% endif %}
                    </p>
                {% endif %}
                {# Descrizione, se presente, localizzata da JSON #}
                {% if edu.description %}
                     <p class="mt-2 text-gray-700 text-base">
                        {{ get_localized(edu.description) | safe }} {# Usa 'safe' se la descrizione contiene HTML semplice come bold #}
                    </p>
                {% endif %}
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
